{"is_source_file": true, "format": "Python", "description": "This file is the main FastAPI application module for a backend API, defining endpoints for health check, user signup, login, and retrieving current user info, including middleware setup and dependencies.", "external_files": ["./auth", "./config", "./db", "./models", "./security"], "external_methods": ["get_current_user_email", "settings", "create_user", "get_db", "get_user_by_email", "init_db", "create_access_token", "hash_password", "verify_password"], "published": ["app"], "classes": [], "methods": [{"name": "dict[str,str] health_check()", "description": "Health check endpoint to verify the service is running.", "scope": "", "scopeKind": ""}, {"name": "TokenResponse signup(payload: SignupRequest)", "description": "Creates a new user with email and password, returns a bearer token.", "scope": "", "scopeKind": ""}, {"name": "TokenResponse login(payload: LoginRequest)", "description": "Authenticates a user with email and password, returns a bearer token.", "scope": "", "scopeKind": ""}, {"name": "dict[str,Any] me(current_email: str = Depends(get_current_user_email))", "description": "Returns current authenticated user's email.", "scope": "", "scopeKind": ""}], "calls": ["get_db()", "get_user_by_email()", "hash_password()", "create_user()", "create_access_token()", "verify_password()", "get_current_user_email"], "search-terms": ["FastAPI application", "auth endpoints", "health check", "CORS middleware", "user signup", "user login", "current user retrieval"], "state": 2, "file_id": 3, "knowledge_revision": 20, "git_revision": "f0ad1026ad17159704725a4fb908a06f4fb2e298", "revision_history": [{"9": "f0ad1026ad17159704725a4fb908a06f4fb2e298"}, {"20": "f0ad1026ad17159704725a4fb908a06f4fb2e298"}], "ctags": [{"_type": "tag", "name": "allow_all", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^allow_all = settings.CORS_ALLOW_ORIGINS == [\"*\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^def health_check() -> dict[str, str]:$/", "language": "Python", "typeref": "typename:dict[str,str]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^def login(payload: LoginRequest) -> TokenResponse:$/", "language": "Python", "typeref": "typename:TokenResponse", "kind": "function", "signature": "(payload: LoginRequest)"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^def me(current_email: str = Depends(get_current_user_email)) -> dict[str, Any]:$/", "language": "Python", "typeref": "typename:dict[str,Any]", "kind": "function", "signature": "(current_email: str = Depends(get_current_user_email))"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/natural-query-processing-platform-96847-96856/dsp_backend/src/api/main.py", "pattern": "/^def signup(payload: SignupRequest) -> TokenResponse:$/", "language": "Python", "typeref": "typename:TokenResponse", "kind": "function", "signature": "(payload: SignupRequest)"}], "hash": "7bf379b95a6138b39b3b3ef80e3dbcc3", "format-version": 4, "code-base-name": "dsp_backend", "filename": "dsp_backend/src/api/main.py", "fields": [{"name": "allow_all = settings.CORS_ALLOW_ORIGINS == [\"*\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}]}